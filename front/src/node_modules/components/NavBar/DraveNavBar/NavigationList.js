import React, {useState, useMemo, useCallback, useRef} from "react";
import {navigationDx} from '../../../pages/routes' 
import { TreeView } from 'devextreme-react/tree-view';
import { useScreenSize } from 'utils/media-query';
import { useNavigate } from "react-router-dom";
import useLocalStorage from '../../../hooks/useLocalStorage'
import './side-navigation-menu.scss';
import { Template } from 'devextreme-react/core/template';
import { BsArrowReturnLeft } from "react-icons/bs";


const MenuStatus = {
    Closed: 1,
    Opened: 2,
    TemporaryOpened: 3
  };
 
const  NavigationList = () => {
    const [userLogin, setUserLogin] = useLocalStorage('loginUser')
    
    const navigate = useNavigate()
    const { isXSmall, isLarge } = useScreenSize();

    const [menuStatus, setMenuStatus] = useState(
        isLarge ? MenuStatus.Opened : MenuStatus.Closed
      );
   
    const selectItem = (item) =>{
        if(item.node.children.length === 0){
          navigate(item.node.key)
        }

     }

    

 
        return (
          
            <React.Fragment>
      
              <div className={'dx-swatch-additional side-navigation-menu'}>
                 <div className={'menu-container'}>
                        <TreeView id={'simple-treeview'}
                            items={navigationDx}
                            width='100%'
                            height={'100%'}
                            // className="panel-list dx-theme-accent-as-background-color"
                            keyExpr={'path'}
                            selectionMode={'single'}
                            focusStateEnabled={false}
                            expandEvent={'click'}
                            onItemsChange={selectItem}
                            onItemClick={selectItem}
                            onItemSelectionChanged = {selectItem}
                            compactMode={menuStatus === MenuStatus.Closed}
                               
                            />  
                     </div>           
              </div>
      
            </React.Fragment>
        );
        
    
}
export default NavigationList;